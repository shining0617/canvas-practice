<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style>
	*{margin:0;padding: 0}
    canvas{border: 2px solid #000;margin:auto;}
	</style>
  <script type="text/javascript" src="js/segement.js"></script>
  <script type="text/javascript" src="js/utils.js"></script>
  <script type="text/javascript" src="js/slider.js"></script>
	<script type="text/javascript">
  window.onload=function(){
    var can=document.getElementById("mycanvas");
    var ctx=can.getContext("2d");
    var segement0=new Segement(100,30);
    var segement1=new Segement(100,30);
    var slider0=new Slider(-90,90,0);
    var slider1=new Slider(-90,90,0);

    segement0.x=50;
    segement0.y=100;

    slider0.x=300;
    slider0.y=100;
    slider0.captureMouse(can);
    slider0.onchange=drawFrame;
    
    slider1.x=350;
    slider1.y=100;
    slider1.captureMouse(can);
    slider1.onchange=drawFrame;  

    function drawFrame(){
      ctx.clearRect(0,0,can.width,can.height);     

      segement0.rotation=slider0.value*Math.PI/180; 
      segement1.x=segement0.getPin().x;
      segement1.y=segement0.getPin().y;
      segement1.rotation=segement0.rotation+slider1.value*Math.PI/180; 

      segement0.draw(ctx);
      segement1.draw(ctx);
      slider0.draw(ctx);
      slider1.draw(ctx);
    }
    
    drawFrame();

  } 
	</script>
</head>
<body>
<canvas id="mycanvas" width="400" height="400" ></canvas>
</body>
</html>